POST http://localhost:1337/api/auth/local
Content-Type: application/json

{
  "identifier": "test5@gmail.com",
  "password": "test12345"
}

###
POST http://localhost:1337/api/auth/local/register
Content-Type: application/json

{
  "username": "test5",
  "email": "test5@gmail.com",
  "password": "test12345",
  "Advertiser":true
}
###
PUT http://localhost:1337/api/users/11
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MTEsImlhdCI6MTc0NDY0NTE1NiwiZXhwIjoxNzQ3MjM3MTU2fQ.yJAR_dfKPjhHemobU6ZedyCqfqqjIAsO8gudxEFsBxI
Content-Type: application/json

{
  "role": 2
}

###
POST http://localhost:1337/api/user-profiles
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNzQ2NTY1MDgwLCJleHAiOjE3NDcxNjk4ODB9.6af_YFVkt7MDVLBkyVWU4Mqhwua1p7FLj8rAI6oNg5s
Content-Type: application/json

{
  "data": {
    "name": "New User",
    "email": "test2@gmail.com",
    "role": "Advertiser",
    "user": 10
  }
}

###
GET http://localhost:1337/api/marketplaces
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwiaWF0IjoxNzQ2NTMzODU4LCJleHAiOjE3NDcxMzg2NTh9.SYXakgTOQeLWLNWGCTAHLLt8LdXM9ThYcjaNfwgPnkM

###
GET http://localhost:1337/api/api/wallet/balance
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwiaWF0IjoxNzQ2NjI0NTU5LCJleHAiOjE3NDcyMjkzNTl9.vqFlFP2TS9hxeiT5IPIBrZ7ThnPhBhkd0f9JtNDuj-g
###
GET http://localhost:1337/api/api/wallet/transactions
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwiaWF0IjoxNzQ2NjI0NTU5LCJleHAiOjE3NDcyMjkzNTl9.vqFlFP2TS9hxeiT5IPIBrZ7ThnPhBhkd0f9JtNDuj-g
###
GET http://localhost:1337/api/api/user-wallets
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwiaWF0IjoxNzQ2NjI0NTU5LCJleHAiOjE3NDcyMjkzNTl9.vqFlFP2TS9hxeiT5IPIBrZ7ThnPhBhkd0f9JtNDuj-g

###
POST http://localhost:1337/api/user-wallets
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NSwiaWF0IjoxNzQ2NjEyMDMxLCJleHAiOjE3NDcyMTY4MzF9.KsXbrLJ7Uk5iC0bYDFJZbSsBxapZtY5cMGXY8unLr8M
Content-Type: application/json

{
  "balance": "0",
  "escrowBalance": "0",
  "currency": "USD"
}
###
POST http://localhost:1337/api/api/wallet/create
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwiaWF0IjoxNzQ2NjI0NTU5LCJleHAiOjE3NDcyMjkzNTl9.vqFlFP2TS9hxeiT5IPIBrZ7ThnPhBhkd0f9JtNDuj-g
Content-Type: application/json

{
  "type": "advertiser",
  "currency": "USD"
}
###
POST http://localhost:1337/api/api/transactions/payment
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6NiwiaWF0IjoxNzQ2NjI0NTU5LCJleHAiOjE3NDcyMjkzNTl9.vqFlFP2TS9hxeiT5IPIBrZ7ThnPhBhkd0f9JtNDuj-g
Content-Type: application/json

{
  "amount": 1,
  "currency": "USD",
  "gateway": "paypal"
}

###
POST http://localhost:1337/api/api/transactions/webhook/stripe
Content-Type: application/json

{
  "id": "pmc_1RLekuGfw70wnNOgIh74K4gy",
  "type": "payment_intent.succeeded",
  "data": {
    "object": {
      "id": "pi_3RM85oGfw70wnNOg1uSN9O78",
      "amount": 1,
      "currency": "usd",
      "transactionStatus": "success"
    }
  }
}

###
POST http://localhost:1337/api/api/transactions/webhook/paypal
Content-Type: application/json

{
  "event_type": "PAYMENT.CAPTURE.COMPLETED",
  "resource": {
    "id": "97E72104Y8791914G",
    "transactionStatus": "success",
     "amount": {
      "currency_code": "USD",
      "value": "1.00"
    }
  }
}

# > Done! The Stripe CLI is configured for New business sandbox with account id acct_1RLekMGfw70wnNOg